<div class="main-layout">
  <!-- Top Navbar -->
  <mat-toolbar color="primary" class="navbar">
    <button mat-icon-button (click)="toggleSidebar()">
      <mat-icon>menu</mat-icon>
    </button>

    <span class="brand">
      <mat-icon>local_shipping</mat-icon>
      VRP System
    </span>

    <span class="spacer"></span>

    <span class="user-info" *ngIf="currentUser">
      <mat-icon>person</mat-icon>
      {{ currentUser.username }}
    </span>

    <button mat-icon-button [matMenuTriggerFor]="userMenu">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #userMenu="matMenu">
      <button mat-menu-item>
        <mat-icon>settings</mat-icon>
        <span>Settings</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </mat-toolbar>

  <!-- Main Content with Sidebar -->
  <mat-sidenav-container class="content-container">
    <!-- Sidebar -->
    <mat-sidenav
      mode="side"
      [opened]="sidebarOpened"
      class="sidebar">
      <div class="sidebar-content">
        <h3>Dashboard</h3>

        <div class="stats-section">
          <div class="stat-card">
            <div class="stat-number">0</div>
            <div class="stat-label">Orders Today</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">0</div>
            <div class="stat-label">Vehicles</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">0</div>
            <div class="stat-label">Routes</div>
          </div>
        </div>

        <mat-divider></mat-divider>

        <div class="menu-section">
          <h4>Menu</h4>
          <button mat-button class="menu-item">
            <mat-icon>dashboard</mat-icon>
            Dashboard
          </button>
          <button mat-button class="menu-item">
            <mat-icon>location_on</mat-icon>
            Depots
          </button>
          <button mat-button class="menu-item">
            <mat-icon>shopping_cart</mat-icon>
            Orders
          </button>
          <button mat-button class="menu-item">
            <mat-icon>local_shipping</mat-icon>
            Vehicles
          </button>
        </div>
      </div>
    </mat-sidenav>

    <!-- Main Content Area -->
    <mat-sidenav-content class="main-content">
      <!-- Map -->
      <div class="map-section">
        <app-map
          [depots]="depots"
          [orders]="orders"
          [solution]="solution"
          (orderClicked)="onOrderClicked($event)"
          (mapReady)="onMapReady($event)">
        </app-map>
      </div>

      <!-- Orders Table Placeholder -->
      <div class="table-section">
        <div class="table-header">
          <h3>Orders</h3>
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Order
          </button>
        </div>

        <div class="empty-state">
          <mat-icon>inbox</mat-icon>
          <p>No orders yet</p>
          <button mat-button color="primary">Import Orders</button>
        </div>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
